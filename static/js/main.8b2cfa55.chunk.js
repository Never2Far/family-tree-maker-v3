(this["webpackJsonpfamily-tree-maker"]=this["webpackJsonpfamily-tree-maker"]||[]).push([[0],{57:function(e,t,a){},67:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(20),s=a.n(n),r=a(25),i=a(28);var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{relatives:[],loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDING_RELATIVE":return console.log("Adding Relative to DB...."),Object.assign({},{relatives:Object(i.a)(e.relatives)},{loading:!0});case"DELETING_RELATIVE":return console.log("Removing Relative from DB...."),Object.assign({},{relatives:Object(i.a)(e.relatives)},{loading:!0});case"FETCHING_RELATIVES":return console.log("Fetching saved relatives from DB...."),Object.assign({},{relatives:Object(i.a)(e.relatives)},{loading:!0});case"UPDATING_RELATIVE":return console.log("Updating relative..."),Object.assign({},{relatives:Object(i.a)(e.relatives)},{loading:!0});case"ADD_RELATIVE":var a=t.payload;return e.relatives.includes(a)?e:Object.assign({},{relatives:[].concat(Object(i.a)(e.relatives),[a])},{loading:!1});case"REMOVE_RELATIVE":return Object.assign({},{relatives:e.relatives.filter((function(e){return e.relativeId!==t.payload.relativeId}))},{loading:!1});default:return e}},j=a(32);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userInfo:{},loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETTING_USER_INFO":return console.log("Setting user..."),Object.assign({},Object(j.a)({},e),{loading:!0});case"FETCHING_USER":return console.log("Fetching User..."),Object.assign({},Object(j.a)({},e),{loading:!0});case"SET_USER_INFO":var a=t.payload;return Object.assign({},Object(j.a)({},e),{userInfo:a},{loading:!1});case"UPDATING_USER":return console.log("Updating user..."),Object.assign({},Object(j.a)({},e),{loading:!0});default:return e}},d=Object(r.c)({relatives:l,users:o}),b=a(10),u=(a(57),a(46)),O=a(21),h=a(11),x=a(14),m=a(1),v=function(){return Object(m.jsxs)("div",{style:{borderBottom:"2px solid black",paddingBottom:"10px",marginBottom:"12px"},children:[Object(m.jsx)(h.c,{style:{marginRight:"10px"},to:"/home",children:"Home"}),Object(m.jsx)(h.c,{style:{marginRight:"10px"},to:"/profile",children:"Profile"}),Object(m.jsx)(h.c,{style:{marginRight:"10px"},to:"/relatives",children:"My Family"}),Object(m.jsx)(h.c,{style:{marginRight:"10px"},to:"/tree",children:"Tree"}),Object(m.jsx)(h.c,{style:{marginRight:"10px",float:"right"},to:"/logout",children:"Log Out"})]})},p=a(16),f=a(23),g=function(){return Object(m.jsx)(p.a,{children:Object(m.jsxs)(f.a,{children:[Object(m.jsx)("h2",{children:"Welcome to the Family Tree Maker!"}),Object(m.jsxs)("ol",{children:[Object(m.jsxs)("li",{children:["Edit your information by clicking on ",Object(m.jsx)(h.b,{to:"/profile",children:"Profile"}),"."]}),Object(m.jsxs)("li",{children:["Add your relatives using the ",Object(m.jsx)(h.b,{to:"/relatives",children:"My Family"})," page."]}),Object(m.jsx)("li",{children:"Edit your relative's details by clicking on their name."}),Object(m.jsxs)("li",{children:["View your tree by clicking ",Object(m.jsx)(h.b,{to:"/tree",children:"Tree"})]})]})]})})},N=a(8),y=a(35),I=a(12),C=(a(67),function(e){var t=Object(O.b)().user,a=e.userInfo,c=Object(x.g)();return Object(m.jsxs)("div",{children:[Object(m.jsx)(y.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"First Name:"}),Object(m.jsx)("td",{children:a.firstName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Middle Name:"}),Object(m.jsx)("td",{children:a.middleName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Last Name:"}),Object(m.jsx)("td",{children:a.lastName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Nickname:"}),Object(m.jsx)("td",{children:a.nickname})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Alternative Names/Spelling:"}),Object(m.jsx)("td",{children:a.altName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"DOB:"}),Object(m.jsx)("td",{children:!!a.birthdate&&function(e){var t=e.split("-"),a=[];return a.push(t[1]),a.push(t[2]),a.push(t[0]),a.join("-")}(a.birthdate)})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Birthplace:"}),Object(m.jsx)("td",{children:a.birthplace})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Email:"}),Object(m.jsx)("td",{children:t.email})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Phone:"}),Object(m.jsx)("td",{children:a.phone})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Address:"}),Object(m.jsx)("td",{children:a.address})]})]})}),Object(m.jsx)(I.a,{className:"edit-button",variant:"primary",size:"lg",block:!0,onClick:function(){c.push("/profile/edit"),e.setEditing(!0)},children:"Edit Profile"})]})}),E=a(3),S=a(9),k=a(13);var L=function(e){var t=e.userInfo,a=Object(x.g)(),n=Object(c.useState)(t.firstName),s=Object(N.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(t.lastName),j=Object(N.a)(l,2),o=j[0],d=j[1],u=Object(c.useState)(t.middleName),O=Object(N.a)(u,2),h=O[0],v=O[1],p=Object(c.useState)(t.nickname),f=Object(N.a)(p,2),g=f[0],y=f[1],C=Object(c.useState)(t.altName),L=Object(N.a)(C,2),R=L[0],T=L[1],A=Object(c.useState)(t.birthdate),G=Object(N.a)(A,2),_=G[0],D=G[1],w=Object(c.useState)(t.phone),F=Object(N.a)(w,2),B=F[0],V=F[1],z=Object(c.useState)(t.address),U=Object(N.a)(z,2),P=U[0],M=U[1],H=Object(c.useState)(t.city),J=Object(N.a)(H,2),Z=J[0],W=J[1],Q=Object(c.useState)(t.state),Y=Object(N.a)(Q,2),q=Y[0],K=Y[1],$=Object(c.useState)(t.zip),ee=Object(N.a)($,2),te=ee[0],ae=ee[1],ce=Object(c.useState)(t.birthplace),ne=Object(N.a)(ce,2),se=ne[0],re=ne[1],ie=Object(b.b)();function le(c){c.preventDefault();var n={firstName:r,middleName:h,lastName:o,nickname:g,altName:R,userId:t.userId,birthdate:_,birthplace:se,phone:B,address:P};for(var s in n){n[s]||(n[s]="")}ie(function(e){var t=Object.assign({},{user:e});return function(e){e({type:"UPDATING_USER"}),fetch("https://family-tree-maker-v3.herokuapp.com/users",{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){if(!0===a.success){var c=Object.assign({},a.userInfo,{userId:t.userId});return e({type:"SET_USER_INFO",payload:c}),Object(m.jsx)(X,{})}console.log(a.error)}))}}(n)),e.setEditing(!1),a.push("/profile")}return Object(m.jsx)("div",{children:Object(m.jsxs)(E.a,{onSubmit:function(e){return le(e)},id:"edit-user-form",children:[Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formFirstName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"First Name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"firstName",value:r,onChange:function(e){return i(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formMiddleName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Middle Name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"middleName",value:h,onChange:function(e){return v(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formLastName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Last Name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"lastName",value:o,onChange:function(e){return d(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formNickname",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Nick name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"nickname",value:g,onChange:function(e){return y(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formAltName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Alternative Names/Spelling:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"altName",value:R,onChange:function(e){return T(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formPhone",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Phone:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"tel",name:"phone",value:B,onChange:function(e){return V(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formBirthdate",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Birthdate:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"date",name:"birthdate",value:_,onChange:function(e){return D(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formBirthplace",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Birthplace:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"birthplace",value:se,onChange:function(e){return re(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formAddress",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Address:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{placeholder:"Street",type:"text",name:"address",value:P,onChange:function(e){return M(e.target.value)}})})]}),Object(m.jsxs)(E.a.Row,{children:[Object(m.jsx)(E.a.Group,{as:S.a,controlId:"formCity",children:Object(m.jsx)(E.a.Control,{placeholder:"City",type:"text",name:"city",value:Z,onChange:function(e){return W(e.target.value)}})}),Object(m.jsx)(E.a.Group,{as:S.a,controlId:"formState",children:Object(m.jsx)(E.a.Control,{placeholder:"State",type:"text",name:"state",value:q,onChange:function(e){return K(e.target.value)}})}),Object(m.jsx)(E.a.Group,{as:S.a,controlId:"formZip",children:Object(m.jsx)(E.a.Control,{placeholder:"Zip",type:"text",name:"zip",value:te,onChange:function(e){return ae(e.target.value)}})})]}),Object(m.jsx)(I.a,{type:"submit",className:"update-button",variant:"primary",size:"lg",block:!0,children:"Save Changes"}),Object(m.jsx)(I.a,{block:!0,variant:"warning",size:"lg",onClick:function(){a.push("/profile"),e.setEditing(!1)},children:"Cancel"})]})})},R=function(e){var t=Object(b.c)((function(e){return e.users.userInfo})),a=Object(c.useState)(e.editing),n=Object(N.a)(a,2),s=n[0],r=n[1];return Object(m.jsxs)(p.a,{children:[Object(m.jsx)("h1",{children:"About Me"}),Object(m.jsx)(f.a,{children:s?Object(m.jsx)(L,{userInfo:t,setEditing:r}):Object(m.jsx)(C,{setEditing:r,userInfo:t})})]})},T=a(47),A=a.n(T);var G=function(){var e=Object(b.b)(),t=Object(O.b)().user.sub,a=Object(c.useState)(""),n=Object(N.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(""),l=Object(N.a)(i,2),j=l[0],o=l[1],d=Object(c.useState)(""),u=Object(N.a)(d,2),h=u[0],x=u[1],v=function(a){a.preventDefault();var c={firstName:s,lastName:j,fullName:"".concat(s," ").concat(j),relationship:h,userId:t};e(function(e){var t={firstName:e.firstName,lastName:e.lastName,fullName:e.fullName,relationship:e.relationship,userId:e.userId,relativeId:A()()};return function(e){e({type:"ADDING_RELATIVE"}),fetch("https://family-tree-maker-v3.herokuapp.com/relatives",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){!0===a.success?e({type:"ADD_RELATIVE",payload:t}):console.log(a.error)}))}}(c)),r(""),o(""),x("")};return Object(m.jsx)(p.a,{children:Object(m.jsxs)(f.a,{children:[Object(m.jsx)("h3",{children:"Add New Relative"}),Object(m.jsxs)(E.a,{inline:!0,onSubmit:function(e){return v(e)},children:[Object(m.jsxs)(E.a.Group,{controlId:"formGroupFirstName",children:[Object(m.jsx)(E.a.Label,{children:"First Name: "}),Object(m.jsx)(E.a.Control,{size:"sm",type:"text",name:"firstName",onChange:function(e){return r(e.target.value)},value:s})]}),Object(m.jsxs)(E.a.Group,{controlId:"formGroupLastName",children:[Object(m.jsx)(E.a.Label,{children:"Last Name: "}),Object(m.jsx)(E.a.Control,{size:"sm",type:"text",name:"lastName",onChange:function(e){return o(e.target.value)},value:j})]}),Object(m.jsxs)(E.a.Group,{controlId:"formGroupRelationship",children:[Object(m.jsx)(E.a.Label,{children:"Relationship: "}),Object(m.jsxs)(E.a.Control,{as:"select",size:"sm",name:"relationship",onChange:function(e){return x(e.target.value)},value:h,children:[Object(m.jsx)("option",{hidden:!0,value:!0,children:"Select one..."}),Object(m.jsx)("option",{value:"spouse",children:"Spouse"}),Object(m.jsx)("option",{value:"father",children:"Father"}),Object(m.jsx)("option",{value:"mother",children:"Mother"}),Object(m.jsx)("option",{value:"father-in-law",children:"Father-in-law"}),Object(m.jsx)("option",{value:"mother-in-law",children:"Mother-in-law"}),Object(m.jsx)("option",{value:"sibling-1",children:"Sibling-1"}),Object(m.jsx)("option",{value:"sibling-2",children:"Sibling-2"}),Object(m.jsx)("option",{value:"sibling-in-law-1",children:"Sibling-in-law-1"}),Object(m.jsx)("option",{value:"sibling-in-law-2",children:"Sibling-in-law-2"}),Object(m.jsx)("option",{value:"child-1",children:"Child-1"}),Object(m.jsx)("option",{value:"child-2",children:"Child-2"}),Object(m.jsx)("option",{value:"child-3",children:"Child-3"}),Object(m.jsx)("option",{value:"child-4",children:"Child-4"})]})]}),Object(m.jsx)(I.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})},_=a(36);function D(e){var t={userId:e.userId,relativeId:e.relativeId};return function(e){e({type:"DELETING_RELATIVE"}),fetch("https://family-tree-maker-v3.herokuapp.com/relatives",{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){!0===a.success?e({type:"REMOVE_RELATIVE",payload:t}):console.log(a.error)}))}}var w=a(27),F=function(e){return Object(m.jsxs)(w.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0,backdrop:"static",keyboard:!1,children:[Object(m.jsx)(w.a.Header,{closeButton:!0,children:Object(m.jsx)(w.a.Title,{id:"delete-confirm",children:"Delete Relative?"})}),Object(m.jsx)(w.a.Body,{children:Object(m.jsx)("h4",{children:"Are you sure you want to delete this relative?"})}),Object(m.jsxs)(w.a.Footer,{children:[Object(m.jsx)(I.a,{variant:"danger",onClick:e.handleclickdelete,children:"Delete Relative"}),Object(m.jsx)(I.a,{variant:"warning",onClick:e.handleclickcancel,children:"Cancel"})]})]})},B=function(e){var t=Object(b.b)(),a=Object(c.useState)(!1),n=Object(N.a)(a,2),s=n[0],r=n[1];return Object(m.jsxs)(_.a.Item,{children:[Object(m.jsx)(h.b,{to:"/relatives/".concat(e.relative.relativeId),children:"".concat(e.relative.fullName)})," - ","".concat(e.relative.relationship," "),Object(m.jsx)(I.a,{variant:"danger",onClick:function(){return r(!0)},size:"sm",children:" X "}),Object(m.jsx)(F,{show:s,onHide:function(){return r(!1)},handleclickdelete:function(){var a={relativeId:e.relative.relativeId,userId:e.relative.userId};t(D(a)),r(!1)},handleclickcancel:function(){r(!1)}})]},e.relative.relativeId)},V=function(e){var t=Object(b.c)((function(e){return e.relatives.relatives}));return Object(m.jsx)(_.a,{variant:"flush",children:t.map((function(t){return Object(m.jsx)(B,{relative:t,userId:t.userId,relativeId:t.relativeId,deleteRelative:e.deleteRelative},t.relativeId)}))})},z=function(){return Object(m.jsxs)(p.a,{children:[Object(m.jsx)("h1",{children:"My Family"}),Object(m.jsx)(G,{}),Object(m.jsx)(V,{})]})};a(71);var U=function(e){var t=Object(b.c)((function(e){return e.users.userInfo})),a="".concat(t.firstName," ").concat(t.lastName),c=e.relatives;return Object(m.jsx)(p.a,{children:Object(m.jsxs)("div",{className:"grid-container",children:[Object(m.jsx)("div",{className:"user",children:Object(m.jsx)(h.b,{to:"/profile",children:a})}),c.map((function(e){return Object(m.jsx)("div",{className:e.relationship,children:Object(m.jsx)(h.b,{to:"/relatives/".concat(e.relativeId),children:"".concat(e.fullName)})},e.relativeId)})),Object(m.jsx)("div",{className:"spouse"}),Object(m.jsx)("div",{className:"father"}),Object(m.jsx)("div",{className:"mother"}),Object(m.jsx)("div",{className:"father-in-law"}),Object(m.jsx)("div",{className:"mother-in-law"}),Object(m.jsx)("div",{className:"child-2"}),Object(m.jsx)("div",{className:"child-1"}),Object(m.jsx)("div",{className:"child-3"}),Object(m.jsx)("div",{className:"child-4"}),Object(m.jsx)("div",{className:"sibling-1"}),Object(m.jsx)("div",{className:"sibling-in-law-1"}),Object(m.jsx)("div",{className:"sibling-in-law-2"}),Object(m.jsx)("div",{className:"sibling-2"}),Object(m.jsxs)("div",{className:"t",children:[Object(m.jsx)("div",{className:"tb"}),Object(m.jsx)("div",{className:"tb-lb"})]}),Object(m.jsxs)("div",{className:"t2",children:[Object(m.jsx)("div",{className:"tb2"}),Object(m.jsx)("div",{className:"tb2-lb2"})]}),Object(m.jsxs)("div",{className:"t3",children:[Object(m.jsx)("div",{className:"tb3"}),Object(m.jsx)("div",{className:"tb3-lb3"})]}),Object(m.jsxs)("div",{className:"c",children:[Object(m.jsx)("div",{className:"bb15"}),Object(m.jsx)("div",{className:"lb-bb"}),Object(m.jsx)("div",{className:"lb13"})]}),Object(m.jsxs)("div",{className:"c2",children:[Object(m.jsx)("div",{className:"bb5"}),Object(m.jsx)("div",{className:"lb5-bb16"}),Object(m.jsx)("div",{className:"lb12"})]}),Object(m.jsx)("div",{className:"s",children:Object(m.jsx)("div",{className:"bb"})}),Object(m.jsx)("div",{className:"s2",children:Object(m.jsx)("div",{className:"bb2"})}),Object(m.jsxs)("div",{className:"c3",children:[Object(m.jsx)("div",{className:"rb"}),Object(m.jsx)("div",{className:"bb3"})]}),Object(m.jsxs)("div",{className:"c4",children:[Object(m.jsx)("div",{className:"lb4"}),Object(m.jsx)("div",{className:"bb4"})]}),Object(m.jsxs)("div",{className:"t4",children:[Object(m.jsx)("div",{className:"lb4-bb4"}),Object(m.jsx)("div",{className:"bb6"})]}),Object(m.jsxs)("div",{className:"t5",children:[Object(m.jsx)("div",{className:"bb7"}),Object(m.jsx)("div",{className:"lb7"})]}),Object(m.jsxs)("div",{className:"c5",children:[Object(m.jsx)("div",{className:"bb8"}),Object(m.jsx)("div",{className:"lb8"})]}),Object(m.jsxs)("div",{className:"t6",children:[Object(m.jsx)("div",{className:"bb9"}),Object(m.jsx)("div",{className:"rb9"})]}),Object(m.jsxs)("div",{className:"c6",children:[Object(m.jsx)("div",{className:"bb10"}),Object(m.jsx)("div",{className:"rb10"})]}),Object(m.jsxs)("div",{className:"c7",children:[Object(m.jsx)("div",{className:"bb13"}),Object(m.jsx)("div",{className:"lb10"})]}),Object(m.jsx)("div",{className:"s3",children:Object(m.jsx)("div",{className:"bb11"})}),Object(m.jsx)("div",{className:"s4",children:Object(m.jsx)("div",{className:"bb12"})}),Object(m.jsxs)("div",{className:"c8",children:[Object(m.jsx)("div",{className:"bb14"}),Object(m.jsx)("div",{className:"rb11"})]})]})})},P=a(48),M=function(){var e=Object(b.c)((function(e){return e.relatives.relatives})),t=Object(c.useRef)(),a=Object(P.useReactToPrint)({content:function(){return t.current}});return Object(m.jsxs)("div",{children:[Object(m.jsxs)(p.a,{ref:t,children:[Object(m.jsx)("h1",{children:"Family Tree"}),Object(m.jsx)(U,{relatives:e})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(I.a,{variant:"primary",size:"lg",style:{margin:"0 auto",display:"block"},onClick:a,children:"Click here to print your family tree!"})]})},H=(a(72),a(73),function(e){var t=e.relative,a=Object(x.g)();return Object(m.jsxs)("div",{children:[Object(m.jsx)(I.a,{variant:"secondary",onClick:function(){return a.goBack()},children:" <- back"}),Object(m.jsxs)("h2",{children:[t.fullName," (",t.relationship,")"]}),Object(m.jsx)(y.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"First Name:"}),Object(m.jsx)("td",{children:t.firstName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Middle Name:"}),Object(m.jsx)("td",{children:t.middleName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Last Name:"}),Object(m.jsx)("td",{children:t.lastName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Nickname:"}),Object(m.jsx)("td",{children:t.nickname})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Alternative Names/Spelling:"}),Object(m.jsx)("td",{children:t.altName})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"DOB:"}),Object(m.jsx)("td",{children:t.birthdate})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Birthplace:"}),Object(m.jsx)("td",{children:t.birthplace})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Email:"}),Object(m.jsx)("td",{children:t.email})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Phone:"}),Object(m.jsx)("td",{children:t.phone})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Relationship:"}),Object(m.jsx)("td",{children:t.relationship})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Address:"}),Object(m.jsx)("td",{children:t.address})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Notes:"}),Object(m.jsx)("td",{children:t.notes})]})]})}),Object(m.jsx)(I.a,{className:"edit-button",variant:"primary",size:"lg",block:!0,onClick:function(){a.push("/relatives/".concat(t.relativeId,"/edit")),e.setEditing(!0)},children:"Edit Relative"})]})});var J=function(e){var t=e.relative,a=Object(x.g)(),n=Object(c.useState)(t.firstName),s=Object(N.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(t.lastName),j=Object(N.a)(l,2),o=j[0],d=j[1],u=Object(c.useState)(t.middleName),O=Object(N.a)(u,2),h=O[0],v=O[1],p=Object(c.useState)(t.nickname),f=Object(N.a)(p,2),g=f[0],y=f[1],C=Object(c.useState)(t.altName),L=Object(N.a)(C,2),R=L[0],T=L[1],A=Object(c.useState)(t.birthdate),G=Object(N.a)(A,2),_=G[0],D=G[1],w=Object(c.useState)(t.email),F=Object(N.a)(w,2),B=F[0],V=F[1],z=Object(c.useState)(t.phone),U=Object(N.a)(z,2),P=U[0],M=U[1],H=Object(c.useState)(t.address),J=Object(N.a)(H,2),Z=J[0],X=J[1],W=Object(c.useState)(t.city),Q=Object(N.a)(W,2),Y=Q[0],q=Q[1],K=Object(c.useState)(t.state),$=Object(N.a)(K,2),ee=$[0],te=$[1],ae=Object(c.useState)(t.zip),ce=Object(N.a)(ae,2),ne=ce[0],se=ce[1],re=Object(c.useState)(t.notes),ie=Object(N.a)(re,2),le=ie[0],je=ie[1],oe=Object(c.useState)(t.birthplace),de=Object(N.a)(oe,2),be=de[0],ue=de[1],Oe=Object(b.b)();function he(c){c.preventDefault();var n={firstName:r,middleName:h,lastName:o,fullName:"".concat(r," ").concat(o),nickname:g,altName:R,notes:le,relationship:t.relationship,relativeId:t.relativeId,userId:t.userId,birthdate:_,birthplace:be,email:B,phone:P,address:Z};for(var s in n){n[s]||(n[s]="")}Oe(function(e){var t=e;return function(e){e({type:"UPDATING_RELATIVE"}),fetch("https://family-tree-maker-v3.herokuapp.com/relatives",{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(a){!0===a.success?(e({type:"REMOVE_RELATIVE",payload:t}),e({type:"ADD_RELATIVE",payload:t})):console.log(a.error)}))}}(n)),e.setEditing(!1),a.push("/relatives/".concat(t.relativeId))}return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{children:[t.fullName," (",t.relationship,")"]}),Object(m.jsxs)(E.a,{onSubmit:function(e){return he(e)},id:"edit-form",children:[Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formFirstName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"First Name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"firstName",value:r,onChange:function(e){return i(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formMiddleName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Middle Name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"middleName",value:h,onChange:function(e){return v(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formLastName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Last Name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"lastName",value:o,onChange:function(e){return d(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formNickname",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Nick name:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"nickname",value:g,onChange:function(e){return y(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formAltName",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Alternative Names/Spelling:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"altName",value:R,onChange:function(e){return T(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formEmail",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Email:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"email",name:"email",value:B,onChange:function(e){return V(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formPhone",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Phone:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"tel",name:"phone",value:P,onChange:function(e){return M(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formBirthdate",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Birthdate:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"date",name:"birthdate",value:_,onChange:function(e){return D(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formBirthplace",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Birthplace:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{type:"text",name:"birthplace",value:be,onChange:function(e){return ue(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formAddress",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Address:"}),Object(m.jsx)(S.a,{xs:"auto",children:Object(m.jsx)(E.a.Control,{placeholder:"Street",type:"text",name:"address",value:Z,onChange:function(e){return X(e.target.value)}})})]}),Object(m.jsxs)(E.a.Row,{children:[Object(m.jsx)(E.a.Group,{as:S.a,controlId:"formCity",children:Object(m.jsx)(E.a.Control,{placeholder:"City",type:"text",name:"city",value:Y,onChange:function(e){return q(e.target.value)}})}),Object(m.jsx)(E.a.Group,{as:S.a,controlId:"formState",children:Object(m.jsx)(E.a.Control,{placeholder:"State",type:"text",name:"state",value:ee,onChange:function(e){return te(e.target.value)}})}),Object(m.jsx)(E.a.Group,{as:S.a,controlId:"formZip",children:Object(m.jsx)(E.a.Control,{placeholder:"Zip",type:"text",name:"zip",value:ne,onChange:function(e){return se(e.target.value)}})})]}),Object(m.jsxs)(E.a.Group,{as:k.a,controlId:"formNotes",children:[Object(m.jsx)(E.a.Label,{column:!0,sm:2,children:"Notes:"}),Object(m.jsx)(S.a,{children:Object(m.jsx)(E.a.Control,{as:"textarea",name:"notes",value:le,onChange:function(e){return je(e.target.value)}})})]}),Object(m.jsx)(I.a,{type:"submit",className:"update-button",variant:"primary",size:"lg",block:!0,children:"Save Changes"}),Object(m.jsx)(I.a,{block:!0,variant:"warning",size:"lg",onClick:function(){a.goBack(),e.setEditing(!1)},children:"Cancel"})]})]})},Z=function(e){var t=Object(b.b)(),a=Object(x.g)(),n=Object(c.useState)(e.editing),s=Object(N.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)(!1),j=Object(N.a)(l,2),o=j[0],d=j[1],u=Object(b.c)((function(e){return e.relatives.relatives})),O=Object(x.h)().relativeId,h=u.find((function(e){return e.relativeId===O}));if(!h)return Object(m.jsx)("div",{children:"Relative Not Found"});return Object(m.jsxs)(p.a,{children:[Object(m.jsx)("h1",{children:"Relative Details"}),Object(m.jsxs)(f.a,{children:[r?Object(m.jsx)(J,{relative:h,setEditing:i}):Object(m.jsx)(H,{relative:h,setEditing:i}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(I.a,{onClick:function(){return d(!0)},className:"delete-button",variant:"danger",size:"lg",block:!0,children:"Delete Relative"}),Object(m.jsx)(F,{show:o,onHide:function(){return d(!1)},handleclickdelete:function(){var e={relativeId:O,userId:h.userId};t(D(e)),d(!1),a.push("/relatives")},handleclickcancel:function(){d(!1)}})]})]})},X=function(){var e=Object(b.c)((function(e){return e.users.needUserInfo})),t=Object(O.b)().logout;return console.log(e),Object(m.jsxs)(h.a,{basename:"",children:[Object(m.jsx)(v,{}),Object(m.jsxs)(x.d,{children:[Object(m.jsx)(x.b,{exact:!0,path:"/",children:Object(m.jsx)(x.a,{to:"/home"})}),Object(m.jsx)(x.b,{path:"/home",children:Object(m.jsx)(g,{})}),Object(m.jsx)(x.b,{path:"/profile/edit",children:Object(m.jsx)(R,{editing:!0})}),Object(m.jsx)(x.b,{path:"/profile",children:Object(m.jsx)(R,{editing:!1})}),Object(m.jsx)(x.b,{path:"/relatives/:relativeId/edit",children:Object(m.jsx)(Z,{editing:!0})}),Object(m.jsx)(x.b,{path:"/relatives/:relativeId",children:Object(m.jsx)(Z,{editing:!1})}),Object(m.jsx)(x.b,{path:"/relatives",children:Object(m.jsx)(z,{})}),Object(m.jsx)(x.b,{path:"/tree",children:Object(m.jsx)(M,{})}),Object(m.jsx)(x.b,{path:"/logout",render:function(){return Object(m.jsx)("button",{onClick:t(),children:"Log Out"})}})]})]})};function W(e){return function(t){t({type:"FETCHING_USER"}),fetch("https://family-tree-maker-v3.herokuapp.com/users",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",userId:"".concat(e.sub),email:"".concat(e.email)}}).then((function(e){return e.json()})).then((function(a){t({type:"SETTING_USER_INFO"});var c,n=a.userInfo;t({type:"SET_USER_INFO",payload:n}),t((c=e.sub,function(e){e({type:"FETCHING_RELATIVES"}),fetch("https://family-tree-maker-v3.herokuapp.com/relatives",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",userId:"".concat(c)}}).then((function(e){return e.json()})).then((function(t){t.relatives.length>0?t.relatives.forEach((function(t){return e({type:"ADD_RELATIVE",payload:t})})):0===t.relatives.length?console.log("No saved relatives found for this user"):console.log(t.error)}))}))}))}}var Q=function(){var e=Object(b.b)(),t=Object(O.b)(),a=t.isLoading,c=t.isAuthenticated,n=t.error,s=t.user,r=t.loginWithRedirect;return a?Object(m.jsx)("div",{children:"Loading..."}):n?Object(m.jsxs)("div",{children:["Oops... ",n.message]}):c?(console.log(s),console.log(s.given_name),e(W(s)),Object(m.jsx)(X,{})):void r()},Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,q=Object(r.e)(d,Y(Object(r.a)(u.a)));s.a.render(Object(m.jsx)(O.a,{domain:"near-net.us.auth0.com",clientId:"zCPYFkh1GuJm5Zmz1aRQvHUy5dMVrZVp",redirectUri:"https://family-tree-maker.near-net.com",audience:"https://near-net.us.auth0.com/api/v2/",scope:"read:current_user update:current_user_metadata",children:Object(m.jsx)(b.a,{store:q,children:Object(m.jsx)(Q,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.8b2cfa55.chunk.js.map